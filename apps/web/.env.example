# ==========================================
# Meeting Transcriber - 環境変数設定
# ==========================================

# このファイルを apps/web/.env にコピーして使用してください
# cp apps/web/.env.example apps/web/.env

# ==========================================
# Database（必須）
# ==========================================
# Neon PostgreSQL接続文字列
# 取得方法:
# 1. https://console.neon.tech でプロジェクトを作成
# 2. Connection Stringをコピー
# 3. ?sslmode=require を末尾に追加
DATABASE_URL=postgresql://username:password@ep-xxx.aws.neon.tech/meeting-transcriber?sslmode=require

# ==========================================
# NextAuth.js（必須）
# ==========================================
# セッション署名用のシークレットキー
# 生成方法: openssl rand -base64 32
NEXTAUTH_SECRET=your-secret-key-here

# アプリケーションのベースURL
# 本番環境: https://your-domain.com
# 開発環境: http://localhost:3000
NEXTAUTH_URL=http://localhost:3000

# ==========================================
# Google OAuth（必須）
# ==========================================
# Google OAuth認証用のクライアント情報
# 取得方法:
# 1. https://console.cloud.google.com/ にアクセス
# 2. プロジェクトを作成
# 3. 「APIとサービス」→「認証情報」→「OAuth 2.0 クライアントID」を作成
# 4. 承認済みのリダイレクトURIに以下を追加:
#    - http://localhost:3000/api/auth/callback/google（開発用）
#    - https://your-domain.com/api/auth/callback/google（本番用）
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ==========================================
# OpenAI API（必須）
# ==========================================
# Whisper API（文字起こし）とGPT-4（要約）用のAPIキー
# 取得方法:
# 1. https://platform.openai.com/api-keys にアクセス
# 2. 「Create new secret key」でAPIキーを作成
#
# ⚠️ 重要な制限事項:
# - Whisper APIは最大25MBのファイルまで対応
# - 料金: $0.006/分（2024年1月時点）
# - レート制限: 組織ごとに異なる（詳細: https://platform.openai.com/docs/guides/rate-limits）
OPENAI_API_KEY=sk-your-openai-api-key

# ==========================================
# Upstash Redis（レート制限用、推奨）
# ==========================================
# レート制限機能に使用するRedisデータベース
# 取得方法:
# 1. https://console.upstash.com/redis でRedisデータベースを作成
# 2. REST API セクションから URL と Token をコピー
#
# 注意:
# - 開発環境では未設定でも動作します（インメモリフォールバック）
# - 本番環境では必ず設定してください（DoS攻撃防止のため）
UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=xxx

# ==========================================
# Chrome Extension JWT Secret（必須）
# ==========================================
# Chrome拡張機能との通信用JWT署名キー
# 生成方法: openssl rand -base64 32
#
# 注意: NextAuth.jsのNEXTAUTH_SECRETとは異なる値を設定してください
EXTENSION_JWT_SECRET=your-extension-secret

# ==========================================
# レート制限設定（オプション）
# ==========================================
# APIエンドポイントごとのレート制限値をカスタマイズできます
# 設定しない場合はデフォルト値が使用されます
#
# アップロードAPI: デフォルト 10リクエスト/時間
# RATE_LIMIT_UPLOAD=10
#
# 文字起こしAPI: デフォルト 5リクエスト/時間
# RATE_LIMIT_TRANSCRIPTION=5
#
# レート制限のウィンドウ時間: デフォルト 1時間
# 使用可能な単位: s(秒), m(分), h(時間), d(日)
# RATE_LIMIT_WINDOW=1 h
